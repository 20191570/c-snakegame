#include <ncurses.h>
#include <unistd.h>
#include <iostream>

int x = 1;
int y = 1;
int map_arr[21][21] = {
  {2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2},
  {1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
  {2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2},
};

void screen_set(){
  for(int i = 0;i<21;i++){
    for(int j = 0;j<21;j++){
      if(map_arr[i][j] == 2 or map_arr[i][j] == 3){
        mvprintw(i,j,"\u2B1B");
      }
      else if(map_arr[i][j] == 1){
        mvprintw(i,j,"\u2B1C");
      }
      else{
        mvprintw(i,j," ");
      }
    }
  }
}
void set_snake(int key){
  if(getch() == KEY_UP){
    map_arr[y][x] = 0;
    y--;
    map_arr[y][x] = 3;
  }
  else if(getch() == KEY_DOWN){
    map_arr[y][x] = 0;
    y++;
    map_arr[y][x] = 3;
  }
  else if(getch() == KEY_LEFT){
    map_arr[y][x] = 0;
    x--;
    map_arr[y][x] = 3;
  }
  else if(getch() == KEY_RIGHT){
    map_arr[y][x] = 0;
    x++;
    map_arr[y][x] = 3;
  }

int main(){
  setlocale(LC_ALL, "");
  initscr();
  keypad(stdscr, TRUE);
  curs_set(0);
  noecho();
  screen_set();
  while(true){
    set_snake();
    screen_set();
    refresh();
    usleep(500);
  }
  getch();
  endwin();
  return 0;
}
